ollama:
  url: "http://localhost:11434"
  
  # Two-AI System: Separate models for reading vs coding
  # Reader AI: Extracts entities, understands context (can be larger/smarter)
  # Coder AI: Makes structured updates to files (can be faster/specialized)
  reader_model: "llama3.2"        # For entity extraction
  coder_model: "qwen2.5-coder"    # For generating file updates
  
  # Single model mode (set both to same model if preferred)
  # reader_model: "llama3.2"
  # coder_model: "llama3.2"
  
  api_key: null
  timeout: 120

sillytavern:
  chats_dir: "/path/to/SillyTavern/data/default-user/chats"
  characters_dir: "/path/to/SillyTavern/data/default-user/characters"
  personas_dir: "/path/to/SillyTavern/data/default-user/personas"

# Map chat files to character files
# Format: "chat_filename.jsonl": "character_filename.json"
chat_mappings:
  "Jinx_-_2026-02-13.jsonl": "Jinx__2_.json"
  # Add more mappings as needed
  # "SciFi_Campaign.jsonl": "Cortex_AI.json"

scanning:
  schedule: "0 3 * * *"  # Cron format: Daily at 3 AM
  
  # Chunking Settings (prevents overwhelming smaller systems)
  chunk_size: 20                 # Messages per chunk (adjust based on VRAM)
  chunk_overlap: 5               # Messages to overlap between chunks (context preservation)
  max_chunks_per_scan: 10        # Maximum chunks to process in one scan
  
  # Incremental scanning (only process new messages)
  incremental_mode: true         # Only scan messages since last checkpoint
  rescan_from_start: false       # Set true to force full rescan
  
  # Quality Control (optional validation phase)
  enable_validation: false       # Have READER AI review extracted entities before coding
  validation_mode: "smart"       # Options: "full", "smart", "conflicts_only"
  # - full: Review all entities (slow but thorough)
  # - smart: Only review entities with confidence < 0.8 (balanced)
  # - conflicts_only: Only review when duplicates/conflicts detected (fast)
  
  confidence_threshold: 0.7      # Entity confidence threshold (0-1)

auto_apply:
  enabled: false
  high_confidence_threshold: 0.9
  create_backups: true
  backup_retention_days: 30

entity_tracking:
  npcs: true
  factions: true
  locations: true
  items: true
  aliases: true
  events: false
  stats: true  # Track persona stat changes

database:
  path: "data/stcm.db"

logging:
  level: "INFO"
  file: "data/logs/stcm.log"

server:
  host: "0.0.0.0"
  port: 8000
